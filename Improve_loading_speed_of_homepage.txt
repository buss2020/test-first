Refactored the product search function to improve search speed and add support for filtering results based on product category.
